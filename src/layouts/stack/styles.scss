@use '../../styles/variables' as *;

// =============================================================================
// CSS @property declarations for non-inheriting custom properties
// =============================================================================
// By default, CSS custom properties (variables) inherit from parent elements.
// This causes issues when a parent Stack sets responsive variables
// (e.g. --kiba-stack-direction-large: row) - all child Stacks would inherit
// and use these values even if they didn't set their own.
//
// Using @property with `inherits: false` prevents this cascade, ensuring each
// Stack instance only uses the variables it explicitly sets on itself.
@property --kiba-stack-direction-base { syntax: "*"; inherits: false; }
@property --kiba-stack-direction-small { syntax: "*"; inherits: false; }
@property --kiba-stack-direction-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-direction-large { syntax: "*"; inherits: false; }
@property --kiba-stack-direction-extraLarge { syntax: "*"; inherits: false; }
@property --kiba-stack-child-alignment-base { syntax: "*"; inherits: false; }
@property --kiba-stack-child-alignment-small { syntax: "*"; inherits: false; }
@property --kiba-stack-child-alignment-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-child-alignment-large { syntax: "*"; inherits: false; }
@property --kiba-stack-child-alignment-extraLarge { syntax: "*"; inherits: false; }
@property --kiba-stack-content-alignment-base { syntax: "*"; inherits: false; }
@property --kiba-stack-content-alignment-small { syntax: "*"; inherits: false; }
@property --kiba-stack-content-alignment-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-content-alignment-large { syntax: "*"; inherits: false; }
@property --kiba-stack-content-alignment-extraLarge { syntax: "*"; inherits: false; }
@property --kiba-stack-height-base { syntax: "*"; inherits: false; }
@property --kiba-stack-height-small { syntax: "*"; inherits: false; }
@property --kiba-stack-height-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-height-large { syntax: "*"; inherits: false; }
@property --kiba-stack-height-extraLarge { syntax: "*"; inherits: false; }
@property --kiba-stack-width-base { syntax: "*"; inherits: false; }
@property --kiba-stack-width-small { syntax: "*"; inherits: false; }
@property --kiba-stack-width-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-width-large { syntax: "*"; inherits: false; }
@property --kiba-stack-width-extraLarge { syntax: "*"; inherits: false; }
@property --kiba-stack-max-height-base { syntax: "*"; inherits: false; }
@property --kiba-stack-max-height-small { syntax: "*"; inherits: false; }
@property --kiba-stack-max-height-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-max-height-large { syntax: "*"; inherits: false; }
@property --kiba-stack-max-height-extraLarge { syntax: "*"; inherits: false; }
@property --kiba-stack-max-width-base { syntax: "*"; inherits: false; }
@property --kiba-stack-max-width-small { syntax: "*"; inherits: false; }
@property --kiba-stack-max-width-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-max-width-large { syntax: "*"; inherits: false; }
@property --kiba-stack-max-width-extraLarge { syntax: "*"; inherits: false; }
@property --kiba-stack-min-height-base { syntax: "*"; inherits: false; }
@property --kiba-stack-min-height-small { syntax: "*"; inherits: false; }
@property --kiba-stack-min-height-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-min-height-large { syntax: "*"; inherits: false; }
@property --kiba-stack-min-height-extraLarge { syntax: "*"; inherits: false; }
@property --kiba-stack-min-width-base { syntax: "*"; inherits: false; }
@property --kiba-stack-min-width-small { syntax: "*"; inherits: false; }
@property --kiba-stack-min-width-medium { syntax: "*"; inherits: false; }
@property --kiba-stack-min-width-large { syntax: "*"; inherits: false; }
@property --kiba-stack-min-width-extraLarge { syntax: "*"; inherits: false; }

@layer kiba-structure {
  .KibaStack {
    display: flex;
    flex-direction: var(--kiba-stack-direction-base, column);
    align-items: var(--kiba-stack-child-alignment-base, stretch);
    justify-content: var(--kiba-stack-content-alignment-base, space-between);
    width: var(--kiba-stack-width-base, auto);
    height: var(--kiba-stack-height-base, auto);
    max-width: var(--kiba-stack-max-width-base, none);
    max-height: var(--kiba-stack-max-height-base, none);
    min-width: var(--kiba-stack-min-width-base, auto);
    min-height: var(--kiba-stack-min-height-base, auto);

    &.scrollableVertically {
      overflow-y: auto;
    }

    &.scrollableHorizontally {
      overflow-x: auto;
    }

    &.wrapItems {
      flex-wrap: wrap;
      gap: var(--kiba-stack-gap, 0);
    }

    // Responsive breakpoints
    @include screen-small {
      flex-direction: var(--kiba-stack-direction-small, var(--kiba-stack-direction-base, column));
      align-items: var(--kiba-stack-child-alignment-small, var(--kiba-stack-child-alignment-base, stretch));
      justify-content: var(--kiba-stack-content-alignment-small, var(--kiba-stack-content-alignment-base, space-between));
      width: var(--kiba-stack-width-small, var(--kiba-stack-width-base, auto));
      height: var(--kiba-stack-height-small, var(--kiba-stack-height-base, auto));
      max-width: var(--kiba-stack-max-width-small, var(--kiba-stack-max-width-base, none));
      max-height: var(--kiba-stack-max-height-small, var(--kiba-stack-max-height-base, none));
      min-width: var(--kiba-stack-min-width-small, var(--kiba-stack-min-width-base, auto));
      min-height: var(--kiba-stack-min-height-small, var(--kiba-stack-min-height-base, auto));
    }

    @include screen-medium {
      flex-direction: var(--kiba-stack-direction-medium, var(--kiba-stack-direction-small, var(--kiba-stack-direction-base, column)));
      align-items: var(--kiba-stack-child-alignment-medium, var(--kiba-stack-child-alignment-small, var(--kiba-stack-child-alignment-base, stretch)));
      justify-content: var(--kiba-stack-content-alignment-medium, var(--kiba-stack-content-alignment-small, var(--kiba-stack-content-alignment-base, space-between)));
      width: var(--kiba-stack-width-medium, var(--kiba-stack-width-small, var(--kiba-stack-width-base, auto)));
      height: var(--kiba-stack-height-medium, var(--kiba-stack-height-small, var(--kiba-stack-height-base, auto)));
      max-width: var(--kiba-stack-max-width-medium, var(--kiba-stack-max-width-small, var(--kiba-stack-max-width-base, none)));
      max-height: var(--kiba-stack-max-height-medium, var(--kiba-stack-max-height-small, var(--kiba-stack-max-height-base, none)));
      min-width: var(--kiba-stack-min-width-medium, var(--kiba-stack-min-width-small, var(--kiba-stack-min-width-base, auto)));
      min-height: var(--kiba-stack-min-height-medium, var(--kiba-stack-min-height-small, var(--kiba-stack-min-height-base, auto)));
    }

    @include screen-large {
      flex-direction: var(--kiba-stack-direction-large, var(--kiba-stack-direction-medium, var(--kiba-stack-direction-small, var(--kiba-stack-direction-base, column))));
      align-items: var(--kiba-stack-child-alignment-large, var(--kiba-stack-child-alignment-medium, var(--kiba-stack-child-alignment-small, var(--kiba-stack-child-alignment-base, stretch))));
      justify-content: var(--kiba-stack-content-alignment-large, var(--kiba-stack-content-alignment-medium, var(--kiba-stack-content-alignment-small, var(--kiba-stack-content-alignment-base, space-between))));
      width: var(--kiba-stack-width-large, var(--kiba-stack-width-medium, var(--kiba-stack-width-small, var(--kiba-stack-width-base, auto))));
      height: var(--kiba-stack-height-large, var(--kiba-stack-height-medium, var(--kiba-stack-height-small, var(--kiba-stack-height-base, auto))));
      max-width: var(--kiba-stack-max-width-large, var(--kiba-stack-max-width-medium, var(--kiba-stack-max-width-small, var(--kiba-stack-max-width-base, none))));
      max-height: var(--kiba-stack-max-height-large, var(--kiba-stack-max-height-medium, var(--kiba-stack-max-height-small, var(--kiba-stack-max-height-base, none))));
      min-width: var(--kiba-stack-min-width-large, var(--kiba-stack-min-width-medium, var(--kiba-stack-min-width-small, var(--kiba-stack-min-width-base, auto))));
      min-height: var(--kiba-stack-min-height-large, var(--kiba-stack-min-height-medium, var(--kiba-stack-min-height-small, var(--kiba-stack-min-height-base, auto))));
    }

    @include screen-extra-large {
      flex-direction: var(--kiba-stack-direction-extraLarge, var(--kiba-stack-direction-large, var(--kiba-stack-direction-medium, var(--kiba-stack-direction-small, var(--kiba-stack-direction-base, column)))));
      align-items: var(--kiba-stack-child-alignment-extraLarge, var(--kiba-stack-child-alignment-large, var(--kiba-stack-child-alignment-medium, var(--kiba-stack-child-alignment-small, var(--kiba-stack-child-alignment-base, stretch)))));
      justify-content: var(--kiba-stack-content-alignment-extraLarge, var(--kiba-stack-content-alignment-large, var(--kiba-stack-content-alignment-medium, var(--kiba-stack-content-alignment-small, var(--kiba-stack-content-alignment-base, space-between)))));
      width: var(--kiba-stack-width-extraLarge, var(--kiba-stack-width-large, var(--kiba-stack-width-medium, var(--kiba-stack-width-small, var(--kiba-stack-width-base, auto)))));
      height: var(--kiba-stack-height-extraLarge, var(--kiba-stack-height-large, var(--kiba-stack-height-medium, var(--kiba-stack-height-small, var(--kiba-stack-height-base, auto)))));
      max-width: var(--kiba-stack-max-width-extraLarge, var(--kiba-stack-max-width-large, var(--kiba-stack-max-width-medium, var(--kiba-stack-max-width-small, var(--kiba-stack-max-width-base, none)))));
      max-height: var(--kiba-stack-max-height-extraLarge, var(--kiba-stack-max-height-large, var(--kiba-stack-max-height-medium, var(--kiba-stack-max-height-small, var(--kiba-stack-max-height-base, none)))));
      min-width: var(--kiba-stack-min-width-extraLarge, var(--kiba-stack-min-width-large, var(--kiba-stack-min-width-medium, var(--kiba-stack-min-width-small, var(--kiba-stack-min-width-base, auto)))));
      min-height: var(--kiba-stack-min-height-extraLarge, var(--kiba-stack-min-height-large, var(--kiba-stack-min-height-medium, var(--kiba-stack-min-height-small, var(--kiba-stack-min-height-base, auto)))));
    }
  }
}
