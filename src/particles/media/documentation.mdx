import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as Stories from './documentation.stories';

<Meta of={Stories} />

# Media

**Media** is a smart `particle` that automatically detects and renders the appropriate component (Image, Video, or WebView) based on the source URL.

<Canvas of={Stories.Default} />

<Controls of={Stories.Default} />

## Examples

### Image

<Canvas of={Stories.Image} />

### Circular Image

<Canvas of={Stories.CircularImage} />

### Video

<Canvas of={Stories.Video} />

### Auto-Detection

Media automatically detects the content type from the file extension or by fetching headers.

<Canvas of={Stories.AutoDetection} />

### Gallery

<Canvas of={Stories.Gallery} />

## Theming

### CSS Class: `.KibaMedia`

Media inherits styling from Image and Video components. It's primarily a utility component that delegates rendering.

### Detection Logic

1. **Extension check**: Looks for known image extensions (.png, .jpg, .gif, etc.) or video extensions (.mp4, .webm, .ogg)
2. **Content-Type header**: If no extension match, fetches the URL and checks the Content-Type header
3. **Fallback**: Unknown types are rendered in a WebView

### Supported Formats

| Type | Extensions |
|------|------------|
| Image | png, jpg, jpeg, gif, tif, tiff, raw, avif, webp |
| Video | mp4, webm, ogg |
