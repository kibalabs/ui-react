@use '../../styles/variables' as *;

@layer kiba-structure {
  .KibaBox {
    box-sizing: border-box;
    flex-direction: column;
    display: var(--kiba-box-display, block);
    width: var(--kiba-box-width, 100%);
    height: var(--kiba-box-height, auto);
    max-width: var(--kiba-box-max-width, none);
    max-height: var(--kiba-box-max-height, none);
    min-width: var(--kiba-box-min-width, 0);
    min-height: var(--kiba-box-min-height, 0);

    &.clipContent { overflow: hidden; }
    &.captureTouches { pointer-events: all; }
    &.scrollableVertically { overflow-y: auto; }
    &.scrollableHorizontally { overflow-x: auto; }

    // Responsive breakpoints
    @media (min-width: 576px) {
      width: var(--kiba-box-width-sm, var(--kiba-box-width, 100%));
      height: var(--kiba-box-height-sm, var(--kiba-box-height, auto));
      max-width: var(--kiba-box-max-width-sm, var(--kiba-box-max-width));
      max-height: var(--kiba-box-max-height-sm, var(--kiba-box-max-height));
      min-width: var(--kiba-box-min-width-sm, var(--kiba-box-min-width));
      min-height: var(--kiba-box-min-height-sm, var(--kiba-box-min-height));
    }

    @media (min-width: 768px) {
      width: var(--kiba-box-width-md, var(--kiba-box-width-sm, var(--kiba-box-width, 100%)));
      height: var(--kiba-box-height-md, var(--kiba-box-height-sm, var(--kiba-box-height, auto)));
      max-width: var(--kiba-box-max-width-md, var(--kiba-box-max-width-sm, var(--kiba-box-max-width)));
      max-height: var(--kiba-box-max-height-md, var(--kiba-box-max-height-sm, var(--kiba-box-max-height)));
      min-width: var(--kiba-box-min-width-md, var(--kiba-box-min-width-sm, var(--kiba-box-min-width)));
      min-height: var(--kiba-box-min-height-md, var(--kiba-box-min-height-sm, var(--kiba-box-min-height)));
    }

    @media (min-width: 992px) {
      width: var(--kiba-box-width-lg, var(--kiba-box-width-md, var(--kiba-box-width-sm, var(--kiba-box-width, 100%))));
      height: var(--kiba-box-height-lg, var(--kiba-box-height-md, var(--kiba-box-height-sm, var(--kiba-box-height, auto))));
      max-width: var(--kiba-box-max-width-lg, var(--kiba-box-max-width-md, var(--kiba-box-max-width-sm, var(--kiba-box-max-width))));
      max-height: var(--kiba-box-max-height-lg, var(--kiba-box-max-height-md, var(--kiba-box-max-height-sm, var(--kiba-box-max-height))));
      min-width: var(--kiba-box-min-width-lg, var(--kiba-box-min-width-md, var(--kiba-box-min-width-sm, var(--kiba-box-min-width))));
      min-height: var(--kiba-box-min-height-lg, var(--kiba-box-min-height-md, var(--kiba-box-min-height-sm, var(--kiba-box-min-height))));
    }

    @media (min-width: 1200px) {
      width: var(--kiba-box-width-xl, var(--kiba-box-width-lg, var(--kiba-box-width-md, var(--kiba-box-width-sm, var(--kiba-box-width, 100%)))));
      height: var(--kiba-box-height-xl, var(--kiba-box-height-lg, var(--kiba-box-height-md, var(--kiba-box-height-sm, var(--kiba-box-height, auto)))));
      max-width: var(--kiba-box-max-width-xl, var(--kiba-box-max-width-lg, var(--kiba-box-max-width-md, var(--kiba-box-max-width-sm, var(--kiba-box-max-width)))));
      max-height: var(--kiba-box-max-height-xl, var(--kiba-box-max-height-lg, var(--kiba-box-max-height-md, var(--kiba-box-max-height-sm, var(--kiba-box-max-height)))));
      min-width: var(--kiba-box-min-width-xl, var(--kiba-box-min-width-lg, var(--kiba-box-min-width-md, var(--kiba-box-min-width-sm, var(--kiba-box-min-width)))));
      min-height: var(--kiba-box-min-height-xl, var(--kiba-box-min-height-lg, var(--kiba-box-min-height-md, var(--kiba-box-min-height-sm, var(--kiba-box-min-height)))));
    }
  }
}

@layer kiba-theme {
  .KibaBox {
    background-color: transparent;
    border-radius: $border-radius;
    border-color: transparent;
    border-style: solid;
    border-width: 0;
    box-shadow: none;
    padding: 0;
    margin: 0;
    outline-style: solid;
    outline-color: transparent;
    outline-width: 0;
    outline-offset: 0;
    opacity: 1;

    // Transparent/padded variants
    &.transparent {
      background-color: transparent;
      padding: $padding;
    }

    &.padded { padding: $padding; }

    // Card variant
    &.card {
      background-color: $color-background-light10;
      border-color: $color-background-dark05;
      border-width: $border-width;
      box-shadow: 0px 8px 8px -6px rgba(0, 0, 0, 0.15);
      margin: 0px 4px 12px 4px;
      padding: $padding-wide2;
    }

    // Bordered variant
    &.bordered {
      background-color: $color-background-light10;
      border-color: $color-background-dark05;
      border-width: $border-width;
      padding: $padding-wide2;
    }

    // Focus states
    &.focusable {
      border-color: transparent;
      border-width: 2px;
      border-style: solid;
    }

    &.focussed { border-color: $color-background-dark50; }

    // Shape variants
    &.rounded { border-radius: 50%; }

    // Spacing variants
    &.unpadded { padding: 0; }
    &.unmargined { margin: 0; }

    // Overlay
    &.overlay { background-color: $color-background-clear75; }
  }
}
