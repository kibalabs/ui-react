import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { SingleLineInput } from '..';
import { Button } from '../../atoms';
import { Stack } from '../../layouts';
import { Direction } from '../../model';

import { Form, IFormProps } from '.';

<Meta
  component={Form}
  title={'Molecules/Form'}
/>

# Form

<br/>

export const Template = (args) => (
  <Form {...args} />
);

<Canvas withToolbar={true} withSource={'none'}>
  <Story name='Default' args={{}}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story={'Default'} />

### Examples

<Canvas>
  {/* Button is disabled, so that when Button is clicked the page doesn't change. */}
  <Story name='Simple'>
    {() => {
      const [value, setValue] = React.useState('');
      const [isLoading, setIsLoading] = React.useState(false);
      return (
        <Form isLoading={isLoading} onFormSubmitted={() => setValue('')}>
          <SingleLineInput placeholderText='Enter Message' value={value} onValueChanged={setValue} messageText='Button is disabled'/>
          <br />
          <Button type='submit' isEnabled={false} variant='primary' text='Submit'/>
        </Form>
      );
    }}
  </Story>
</Canvas>

<Canvas>
  <Story name='Loading'>
    {() => {
      const [value, setValue] = React.useState('');
      const [isLoading, setIsLoading] = React.useState(true);
      return (
        <Form isLoading={isLoading} onFormSubmitted={() => setValue('')}>
          <Stack direction={Direction.Verticl} shouldAddGutter={true}>
            <SingleLineInput placeholderText='Enter Message' value={value} onValueChanged={setValue} />
            <SingleLineInput placeholderText='Enter Other message' value={value} onValueChanged={setValue} messageText='Button is disabled'/>
            <br />
            <Button type='submit' isEnabled={false} variant='primary' text='Submit'/>
          </Stack>
        </Form>
      );
    }}
  </Story>
</Canvas>

### Theming

TODO
