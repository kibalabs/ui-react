// =============================================================================
// Color Functions
// =============================================================================
// These functions provide consistent color manipulation across the library.
// Using sRGB for linear color mixing that produces predictable results.

@function lighten($color, $amount) {
  @return color-mix(in srgb, #{$color}, white #{$amount});
}

@function darken($color, $amount) {
  @return color-mix(in srgb, #{$color}, black #{$amount});
}

@function transparentize($color, $amount) {
  @return color-mix(in srgb, #{$color}, transparent #{$amount});
}

// =============================================================================
// Color Variant Generator
// =============================================================================
// This mixin generates light, dark, and transparency variants for any base color.
// lightXX = lighten color by XX% (mix XX% white)
// darkXX = darken color by XX% (mix XX% black)
// clearXX = make color XX% transparent

@mixin generate-color-variants($name) {
  // Light variants - increase lightness by mixing with white
  --kiba-color-#{$name}-light01: #{lighten(var(--kiba-color-#{$name}), 1%)};
  --kiba-color-#{$name}-light05: #{lighten(var(--kiba-color-#{$name}), 5%)};
  --kiba-color-#{$name}-light10: #{lighten(var(--kiba-color-#{$name}), 10%)};
  --kiba-color-#{$name}-light20: #{lighten(var(--kiba-color-#{$name}), 20%)};
  --kiba-color-#{$name}-light25: #{lighten(var(--kiba-color-#{$name}), 25%)};
  --kiba-color-#{$name}-light50: #{lighten(var(--kiba-color-#{$name}), 50%)};
  --kiba-color-#{$name}-light75: #{lighten(var(--kiba-color-#{$name}), 75%)};
  --kiba-color-#{$name}-light80: #{lighten(var(--kiba-color-#{$name}), 80%)};
  --kiba-color-#{$name}-light90: #{lighten(var(--kiba-color-#{$name}), 90%)};
  --kiba-color-#{$name}-light95: #{lighten(var(--kiba-color-#{$name}), 95%)};
  --kiba-color-#{$name}-light99: #{lighten(var(--kiba-color-#{$name}), 99%)};

  // Dark variants - decrease lightness by mixing with black
  --kiba-color-#{$name}-dark01: #{darken(var(--kiba-color-#{$name}), 1%)};
  --kiba-color-#{$name}-dark05: #{darken(var(--kiba-color-#{$name}), 5%)};
  --kiba-color-#{$name}-dark10: #{darken(var(--kiba-color-#{$name}), 10%)};
  --kiba-color-#{$name}-dark20: #{darken(var(--kiba-color-#{$name}), 20%)};
  --kiba-color-#{$name}-dark25: #{darken(var(--kiba-color-#{$name}), 25%)};
  --kiba-color-#{$name}-dark50: #{darken(var(--kiba-color-#{$name}), 50%)};
  --kiba-color-#{$name}-dark75: #{darken(var(--kiba-color-#{$name}), 75%)};
  --kiba-color-#{$name}-dark80: #{darken(var(--kiba-color-#{$name}), 80%)};
  --kiba-color-#{$name}-dark90: #{darken(var(--kiba-color-#{$name}), 90%)};
  --kiba-color-#{$name}-dark95: #{darken(var(--kiba-color-#{$name}), 95%)};
  --kiba-color-#{$name}-dark99: #{darken(var(--kiba-color-#{$name}), 99%)};

  // Clear/transparency variants
  --kiba-color-#{$name}-clear01: #{transparentize(var(--kiba-color-#{$name}), 1%)};
  --kiba-color-#{$name}-clear05: #{transparentize(var(--kiba-color-#{$name}), 5%)};
  --kiba-color-#{$name}-clear10: #{transparentize(var(--kiba-color-#{$name}), 10%)};
  --kiba-color-#{$name}-clear20: #{transparentize(var(--kiba-color-#{$name}), 20%)};
  --kiba-color-#{$name}-clear25: #{transparentize(var(--kiba-color-#{$name}), 25%)};
  --kiba-color-#{$name}-clear50: #{transparentize(var(--kiba-color-#{$name}), 50%)};
  --kiba-color-#{$name}-clear75: #{transparentize(var(--kiba-color-#{$name}), 75%)};
  --kiba-color-#{$name}-clear80: #{transparentize(var(--kiba-color-#{$name}), 80%)};
  --kiba-color-#{$name}-clear90: #{transparentize(var(--kiba-color-#{$name}), 90%)};
  --kiba-color-#{$name}-clear95: #{transparentize(var(--kiba-color-#{$name}), 95%)};
  --kiba-color-#{$name}-clear99: #{transparentize(var(--kiba-color-#{$name}), 99%)};

  // Short aliases (without kiba- prefix) for backwards compatibility
  --color-#{$name}: var(--kiba-color-#{$name});
  --color-#{$name}-light01: var(--kiba-color-#{$name}-light01);
  --color-#{$name}-light05: var(--kiba-color-#{$name}-light05);
  --color-#{$name}-light10: var(--kiba-color-#{$name}-light10);
  --color-#{$name}-light20: var(--kiba-color-#{$name}-light20);
  --color-#{$name}-light25: var(--kiba-color-#{$name}-light25);
  --color-#{$name}-light50: var(--kiba-color-#{$name}-light50);
  --color-#{$name}-light75: var(--kiba-color-#{$name}-light75);
  --color-#{$name}-light80: var(--kiba-color-#{$name}-light80);
  --color-#{$name}-light90: var(--kiba-color-#{$name}-light90);
  --color-#{$name}-light95: var(--kiba-color-#{$name}-light95);
  --color-#{$name}-light99: var(--kiba-color-#{$name}-light99);
  --color-#{$name}-dark01: var(--kiba-color-#{$name}-dark01);
  --color-#{$name}-dark05: var(--kiba-color-#{$name}-dark05);
  --color-#{$name}-dark10: var(--kiba-color-#{$name}-dark10);
  --color-#{$name}-dark20: var(--kiba-color-#{$name}-dark20);
  --color-#{$name}-dark25: var(--kiba-color-#{$name}-dark25);
  --color-#{$name}-dark50: var(--kiba-color-#{$name}-dark50);
  --color-#{$name}-dark75: var(--kiba-color-#{$name}-dark75);
  --color-#{$name}-dark80: var(--kiba-color-#{$name}-dark80);
  --color-#{$name}-dark90: var(--kiba-color-#{$name}-dark90);
  --color-#{$name}-dark95: var(--kiba-color-#{$name}-dark95);
  --color-#{$name}-dark99: var(--kiba-color-#{$name}-dark99);
  --color-#{$name}-clear01: var(--kiba-color-#{$name}-clear01);
  --color-#{$name}-clear05: var(--kiba-color-#{$name}-clear05);
  --color-#{$name}-clear10: var(--kiba-color-#{$name}-clear10);
  --color-#{$name}-clear20: var(--kiba-color-#{$name}-clear20);
  --color-#{$name}-clear25: var(--kiba-color-#{$name}-clear25);
  --color-#{$name}-clear50: var(--kiba-color-#{$name}-clear50);
  --color-#{$name}-clear75: var(--kiba-color-#{$name}-clear75);
  --color-#{$name}-clear80: var(--kiba-color-#{$name}-clear80);
  --color-#{$name}-clear90: var(--kiba-color-#{$name}-clear90);
  --color-#{$name}-clear95: var(--kiba-color-#{$name}-clear95);
  --color-#{$name}-clear99: var(--kiba-color-#{$name}-clear99);
}

// =============================================================================
// All Color Variants Generator
// =============================================================================
// Call this mixin to generate variants for all standard color names
@mixin generate-all-color-variants() {
  @include generate-color-variants('background');
  @include generate-color-variants('brand-primary');
  @include generate-color-variants('brand-secondary');
  @include generate-color-variants('text');
  @include generate-color-variants('text-on-brand');
  @include generate-color-variants('disabled');
  @include generate-color-variants('disabled-text');
  @include generate-color-variants('error');
  @include generate-color-variants('success');
  @include generate-color-variants('warning');
}

// =============================================================================
// Padding Variant Generator
// =============================================================================
@mixin generate-padding-variants() {
  --kiba-padding: var(--kiba-padding-base);
  // Narrow variants (smaller than base)
  --kiba-padding-narrow: calc(var(--kiba-padding-base) * 0.5);
  --kiba-padding-narrow1: calc(var(--kiba-padding-base) * 0.5);
  --kiba-padding-narrow2: calc(var(--kiba-padding-base) * 0.25);
  --kiba-padding-narrow3: calc(var(--kiba-padding-base) * 0.125);
  --kiba-padding-narrow4: calc(var(--kiba-padding-base) * 0.0625);
  // Wide variants (larger than base)
  --kiba-padding-wide: calc(var(--kiba-padding-base) * 2);
  --kiba-padding-wide1: calc(var(--kiba-padding-base) * 2);
  --kiba-padding-wide2: calc(var(--kiba-padding-base) * 4);
  --kiba-padding-wide3: calc(var(--kiba-padding-base) * 6);
  --kiba-padding-wide4: calc(var(--kiba-padding-base) * 8);
  // Legacy alias
  --kiba-padding-half: var(--kiba-padding-narrow1);
}
