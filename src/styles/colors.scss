// =============================================================================
// Color Variant Generator
// =============================================================================
// This mixin generates light, dark, and transparency variants for any base color.
// Apps only need to define base colors like --kiba-color-background, and all
// variants are automatically available.

@mixin generate-color-variants($name) {
  // Light variants (mix with white) - use two-digit format for consistency
  --kiba-color-#{$name}-light05: color-mix(in srgb, var(--kiba-color-#{$name}), white 5%);
  --kiba-color-#{$name}-light10: color-mix(in srgb, var(--kiba-color-#{$name}), white 10%);
  --kiba-color-#{$name}-light20: color-mix(in srgb, var(--kiba-color-#{$name}), white 20%);
  --kiba-color-#{$name}-light25: color-mix(in srgb, var(--kiba-color-#{$name}), white 25%);
  --kiba-color-#{$name}-light50: color-mix(in srgb, var(--kiba-color-#{$name}), white 50%);

  // Dark variants (mix with black)
  --kiba-color-#{$name}-dark05: color-mix(in srgb, var(--kiba-color-#{$name}), black 5%);
  --kiba-color-#{$name}-dark10: color-mix(in srgb, var(--kiba-color-#{$name}), black 10%);
  --kiba-color-#{$name}-dark20: color-mix(in srgb, var(--kiba-color-#{$name}), black 20%);
  --kiba-color-#{$name}-dark25: color-mix(in srgb, var(--kiba-color-#{$name}), black 25%);
  --kiba-color-#{$name}-dark50: color-mix(in srgb, var(--kiba-color-#{$name}), black 50%);

  // Clear/transparency variants (alpha channel)
  --kiba-color-#{$name}-clear05: color-mix(in srgb, var(--kiba-color-#{$name}) 95%, transparent);
  --kiba-color-#{$name}-clear10: color-mix(in srgb, var(--kiba-color-#{$name}) 90%, transparent);
  --kiba-color-#{$name}-clear20: color-mix(in srgb, var(--kiba-color-#{$name}) 80%, transparent);
  --kiba-color-#{$name}-clear25: color-mix(in srgb, var(--kiba-color-#{$name}) 75%, transparent);
  --kiba-color-#{$name}-clear50: color-mix(in srgb, var(--kiba-color-#{$name}) 50%, transparent);
  --kiba-color-#{$name}-clear75: color-mix(in srgb, var(--kiba-color-#{$name}) 25%, transparent);
  --kiba-color-#{$name}-clear80: color-mix(in srgb, var(--kiba-color-#{$name}) 20%, transparent);
  --kiba-color-#{$name}-clear90: color-mix(in srgb, var(--kiba-color-#{$name}) 10%, transparent);
  --kiba-color-#{$name}-clear95: color-mix(in srgb, var(--kiba-color-#{$name}) 5%, transparent);
}

// =============================================================================
// Padding Variant Generator
// =============================================================================
// Generates padding variants based on a base padding value.
// Apps define --kiba-padding-base and all variants are derived from it.

@mixin generate-padding-variants() {
  // Derived padding sizes (relative to base)
  --kiba-padding-half: calc(var(--kiba-padding-base) * 0.5);
  --kiba-padding-narrow: calc(var(--kiba-padding-base) * 0.5);
  --kiba-padding: var(--kiba-padding-base);
  --kiba-padding-wide: calc(var(--kiba-padding-base) * 2);
  --kiba-padding-wide2: calc(var(--kiba-padding-base) * 4);
  --kiba-padding-wide3: calc(var(--kiba-padding-base) * 6);
}

// =============================================================================
// Default Theme Values
// =============================================================================
// These are fallback defaults. Apps should override base values in their theme.scss.

:root {
  // -------------------------------------------------------------------------
  // Base Colors (apps override these)
  // -------------------------------------------------------------------------
  --kiba-color-background: #ffffff;
  --kiba-color-brand-primary: #0066cc;
  --kiba-color-text: #333333;
  --kiba-color-text-on-brand: #ffffff;
  --kiba-color-error: #cc0000;
  --kiba-color-success: #00cc66;
  --kiba-color-warning: #cc9900;

  // Generate all color variants
  @include generate-color-variants('background');
  @include generate-color-variants('brand-primary');
  @include generate-color-variants('text');
  @include generate-color-variants('error');
  @include generate-color-variants('success');
  @include generate-color-variants('warning');

  // -------------------------------------------------------------------------
  // Typography (apps override these)
  // -------------------------------------------------------------------------
  --kiba-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
  --kiba-font-size: 16px;
  --kiba-line-height: 1.5;

  // -------------------------------------------------------------------------
  // Spacing (apps override --kiba-padding-base, rest is derived)
  // -------------------------------------------------------------------------
  --kiba-padding-base: 0.5em;
  @include generate-padding-variants();

  // -------------------------------------------------------------------------
  // Borders (apps override these)
  // -------------------------------------------------------------------------
  --kiba-border-radius: 0.5em;
  --kiba-border-width: 1px;
}
