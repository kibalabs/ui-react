// =============================================================================
// Color Variant Generator
// =============================================================================
// This mixin generates light, dark, and transparency variants for any base color.
// Apps only need to define base colors like --kiba-color-background, and all
// variants are automatically available.

@mixin generate-color-variants($name) {
  // Light variants (mix with white)
  @each $amount in (5, 10, 20, 25, 50) {
    --kiba-color-#{$name}-light#{$amount}: color-mix(in srgb, var(--kiba-color-#{$name}), white #{$amount}%);
  }

  // Dark variants (mix with black)
  @each $amount in (5, 10, 20, 25, 50) {
    --kiba-color-#{$name}-dark#{$amount}: color-mix(in srgb, var(--kiba-color-#{$name}), black #{$amount}%);
  }

  // Clear/transparency variants (alpha channel)
  @each $amount in (5, 10, 20, 25, 50, 75, 80, 90, 95) {
    --kiba-color-#{$name}-clear#{$amount}: color-mix(in srgb, var(--kiba-color-#{$name}) #{100 - $amount}%, transparent);
  }
}

// =============================================================================
// Padding Variant Generator
// =============================================================================
// Generates padding variants based on a base padding value.
// Apps define --kiba-padding-base and all variants are derived from it.

@mixin generate-padding-variants() {
  // Derived padding sizes (relative to base)
  --kiba-padding-half: calc(var(--kiba-padding-base) * 0.5);
  --kiba-padding-narrow: calc(var(--kiba-padding-base) * 0.5);
  --kiba-padding: var(--kiba-padding-base);
  --kiba-padding-wide: calc(var(--kiba-padding-base) * 2);
  --kiba-padding-wide2: calc(var(--kiba-padding-base) * 4);
  --kiba-padding-wide3: calc(var(--kiba-padding-base) * 6);
}

// =============================================================================
// Default Theme Values
// =============================================================================
// These are fallback defaults. Apps should override base values in their theme.scss.

:root {
  // -------------------------------------------------------------------------
  // Base Colors (apps override these)
  // -------------------------------------------------------------------------
  --kiba-color-background: #ffffff;
  --kiba-color-brand-primary: #0066cc;
  --kiba-color-text: #333333;
  --kiba-color-error: #cc0000;
  --kiba-color-success: #00cc66;
  --kiba-color-warning: #cc9900;

  // Generate all color variants
  @include generate-color-variants('background');
  @include generate-color-variants('brand-primary');
  @include generate-color-variants('text');
  @include generate-color-variants('error');
  @include generate-color-variants('success');
  @include generate-color-variants('warning');

  // -------------------------------------------------------------------------
  // Typography (apps override these)
  // -------------------------------------------------------------------------
  --kiba-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
  --kiba-font-size: 16px;
  --kiba-line-height: 1.5;

  // -------------------------------------------------------------------------
  // Spacing (apps override --kiba-padding-base, rest is derived)
  // -------------------------------------------------------------------------
  --kiba-padding-base: 0.5em;
  @include generate-padding-variants();

  // -------------------------------------------------------------------------
  // Borders (apps override these)
  // -------------------------------------------------------------------------
  --kiba-border-radius: 0.5em;
  --kiba-border-width: 1px;
}
