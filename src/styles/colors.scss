// =============================================================================
// Color Variant Generator
// =============================================================================
// This mixin generates light, dark, and transparency variants for any base color.
// Variants are computed dynamically using color-mix(), so they update automatically
// when the base color is overridden.

@mixin generate-color-variants($name) {
  // Light variants (mix with white) - percentage is how much of the ORIGINAL color to keep
  // light10 = 10% original + 90% white (very light)
  // light50 = 50% original + 50% white (medium light)
  --kiba-color-#{$name}-light01: color-mix(in srgb, var(--kiba-color-#{$name}) 1%, white);
  --kiba-color-#{$name}-light05: color-mix(in srgb, var(--kiba-color-#{$name}) 5%, white);
  --kiba-color-#{$name}-light10: color-mix(in srgb, var(--kiba-color-#{$name}) 10%, white);
  --kiba-color-#{$name}-light20: color-mix(in srgb, var(--kiba-color-#{$name}) 20%, white);
  --kiba-color-#{$name}-light25: color-mix(in srgb, var(--kiba-color-#{$name}) 25%, white);
  --kiba-color-#{$name}-light50: color-mix(in srgb, var(--kiba-color-#{$name}) 50%, white);

  // Dark variants (mix with black) - percentage is how much of the ORIGINAL color to keep
  // dark10 = 90% original + 10% black (slightly darker)
  // dark50 = 50% original + 50% black (much darker)
  --kiba-color-#{$name}-dark01: color-mix(in srgb, var(--kiba-color-#{$name}) 99%, black);
  --kiba-color-#{$name}-dark05: color-mix(in srgb, var(--kiba-color-#{$name}) 95%, black);
  --kiba-color-#{$name}-dark10: color-mix(in srgb, var(--kiba-color-#{$name}) 90%, black);
  --kiba-color-#{$name}-dark20: color-mix(in srgb, var(--kiba-color-#{$name}) 80%, black);
  --kiba-color-#{$name}-dark25: color-mix(in srgb, var(--kiba-color-#{$name}) 75%, black);
  --kiba-color-#{$name}-dark50: color-mix(in srgb, var(--kiba-color-#{$name}) 50%, black);

  // Clear/transparency variants (alpha channel)
  --kiba-color-#{$name}-clear05: color-mix(in srgb, var(--kiba-color-#{$name}) 95%, transparent);
  --kiba-color-#{$name}-clear10: color-mix(in srgb, var(--kiba-color-#{$name}) 90%, transparent);
  --kiba-color-#{$name}-clear20: color-mix(in srgb, var(--kiba-color-#{$name}) 80%, transparent);
  --kiba-color-#{$name}-clear25: color-mix(in srgb, var(--kiba-color-#{$name}) 75%, transparent);
  --kiba-color-#{$name}-clear50: color-mix(in srgb, var(--kiba-color-#{$name}) 50%, transparent);
  --kiba-color-#{$name}-clear75: color-mix(in srgb, var(--kiba-color-#{$name}) 25%, transparent);
  --kiba-color-#{$name}-clear80: color-mix(in srgb, var(--kiba-color-#{$name}) 20%, transparent);
  --kiba-color-#{$name}-clear90: color-mix(in srgb, var(--kiba-color-#{$name}) 10%, transparent);
  --kiba-color-#{$name}-clear95: color-mix(in srgb, var(--kiba-color-#{$name}) 5%, transparent);

  // Short aliases (without kiba- prefix) for backwards compatibility
  --color-#{$name}: var(--kiba-color-#{$name});
  --color-#{$name}-light01: var(--kiba-color-#{$name}-light01);
  --color-#{$name}-light05: var(--kiba-color-#{$name}-light05);
  --color-#{$name}-light10: var(--kiba-color-#{$name}-light10);
  --color-#{$name}-light20: var(--kiba-color-#{$name}-light20);
  --color-#{$name}-light25: var(--kiba-color-#{$name}-light25);
  --color-#{$name}-light50: var(--kiba-color-#{$name}-light50);
  --color-#{$name}-dark01: var(--kiba-color-#{$name}-dark01);
  --color-#{$name}-dark05: var(--kiba-color-#{$name}-dark05);
  --color-#{$name}-dark10: var(--kiba-color-#{$name}-dark10);
  --color-#{$name}-dark20: var(--kiba-color-#{$name}-dark20);
  --color-#{$name}-dark25: var(--kiba-color-#{$name}-dark25);
  --color-#{$name}-dark50: var(--kiba-color-#{$name}-dark50);
  --color-#{$name}-clear05: var(--kiba-color-#{$name}-clear05);
  --color-#{$name}-clear10: var(--kiba-color-#{$name}-clear10);
  --color-#{$name}-clear20: var(--kiba-color-#{$name}-clear20);
  --color-#{$name}-clear25: var(--kiba-color-#{$name}-clear25);
  --color-#{$name}-clear50: var(--kiba-color-#{$name}-clear50);
  --color-#{$name}-clear75: var(--kiba-color-#{$name}-clear75);
  --color-#{$name}-clear80: var(--kiba-color-#{$name}-clear80);
  --color-#{$name}-clear90: var(--kiba-color-#{$name}-clear90);
  --color-#{$name}-clear95: var(--kiba-color-#{$name}-clear95);
}

// =============================================================================
// Padding Variant Generator
// =============================================================================
@mixin generate-padding-variants() {
  --kiba-padding: var(--kiba-padding-base);
  // Narrow variants (smaller than base)
  --kiba-padding-narrow: calc(var(--kiba-padding-base) * 0.5);
  --kiba-padding-narrow1: calc(var(--kiba-padding-base) * 0.5);
  --kiba-padding-narrow2: calc(var(--kiba-padding-base) * 0.25);
  --kiba-padding-narrow3: calc(var(--kiba-padding-base) * 0.125);
  --kiba-padding-narrow4: calc(var(--kiba-padding-base) * 0.0625);
  // Wide variants (larger than base)
  --kiba-padding-wide: calc(var(--kiba-padding-base) * 2);
  --kiba-padding-wide1: calc(var(--kiba-padding-base) * 2);
  --kiba-padding-wide2: calc(var(--kiba-padding-base) * 4);
  --kiba-padding-wide3: calc(var(--kiba-padding-base) * 6);
  --kiba-padding-wide4: calc(var(--kiba-padding-base) * 8);
  // Legacy alias
  --kiba-padding-half: var(--kiba-padding-narrow1);
}

// =============================================================================
// All Color Variants Generator
// =============================================================================
// Call this mixin to generate variants for all standard color names
@mixin generate-all-color-variants() {
  @include generate-color-variants('background');
  @include generate-color-variants('brand-primary');
  @include generate-color-variants('brand-secondary');
  @include generate-color-variants('text');
  @include generate-color-variants('text-on-brand');
  @include generate-color-variants('disabled');
  @include generate-color-variants('disabled-text');
  @include generate-color-variants('error');
  @include generate-color-variants('success');
  @include generate-color-variants('warning');
}

// =============================================================================
// Default Theme Values with Auto-Generated Variants
// =============================================================================
// These provide fallback defaults. Apps override just the base colors in their
// theme.scss and the variants are computed dynamically via color-mix().

:root {
  // Base Colors (apps override these)
  --kiba-color-background: #ffffff;
  --kiba-color-brand-primary: #0066cc;
  --kiba-color-brand-secondary: #0055aa;
  --kiba-color-text: #333333;
  --kiba-color-text-on-brand: #ffffff;
  --kiba-color-disabled: #cccccc;
  --kiba-color-disabled-text: #888888;
  --kiba-color-error: #cc0000;
  --kiba-color-success: #00cc66;
  --kiba-color-warning: #cc9900;

  // Generate all color variants (computed from base colors via color-mix)
  @include generate-all-color-variants();

  // Typography
  --kiba-font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
  --kiba-font-size: 16px;
  --kiba-line-height: 1.5;
  --font-family-main: var(--kiba-font-family);

  // Spacing
  --kiba-padding-base: 0.5em;
  @include generate-padding-variants();

  // Borders
  --kiba-border-radius: 0.5em;
  --kiba-border-width: 1px;
  --kiba-border-width-narrow: calc(var(--kiba-border-width) / 2);
  --kiba-border-width-wide: calc(var(--kiba-border-width) * 2);

  // Screen widths
  --kiba-screen-width-max: 1200px;
}
